@model TorneosWeb.domain.models.Estadisticas
@*
	For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@

<h2>ESTADÍSTICAS</h2>

<div style="overflow:auto;width:100%">
	<table class="table">
		<thead>
			<tr style="text-align:center">
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Nombre )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Torneos )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Profit )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].ROI )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Rebuys )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Podios )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Victorias )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Burbujas )
				</th>
				<th>
					@Html.DisplayNameFor( model => model.Detalles[ 0 ].Kos )
				</th>
			</tr>
		</thead>
		<tbody>
			@foreach( var detalle in Model.Detalles )
			{
				<tr>
					<td>
						<a asp-page="./Jugador" asp-route-id="@detalle.Id">@Html.DisplayFor( modelItem => detalle.Nombre )</a>
					</td>
					<td style="text-align:center">
						@Html.DisplayFor( modelItem => detalle.Torneos )
					</td>
					<td style="text-align:right;margin-right:10em;color:@(detalle.ProfitNumber < 0 ? "red" : "black")">
						@Html.DisplayFor( modelItem => detalle.Profit )
					</td>
					<td style="text-align:right;margin-right:10em;color:@(detalle.ROINumber < 0 ? "red" : "black")">
						@Html.DisplayFor( modelItem => detalle.ROI )
					</td>
					<td style="text-align:center">
						@Html.DisplayFor( modelItem => detalle.Rebuys )
					</td>
					<td style="text-align:center">
						@Html.DisplayFor( modelItem => detalle.Podios )
					</td>
					<td style="text-align:center">
						@Html.DisplayFor( modelItem => detalle.Victorias )
					</td>
					<td style="text-align:center">
						@Html.DisplayFor( modelItem => detalle.Burbujas )
					</td>
					<td style="text-align:center">
						@Html.DisplayFor( modelItem => detalle.Kos )
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>

<hr style="margin-top:3em;margin-bottom:3em;border: 3px solid black;background-color:black" />

<div style="overflow:auto;width:100%">
	<h2>KNOCKOUTS</h2>
	<table id="kos" class="table">
		<thead>
			<tr style="text-align:center">
				<th></th>
				@foreach( var jugador in Model.Jugadores )
				{
					<th>
						@jugador
					</th>
				}
			</tr>
		</thead>
		<tbody>
			@foreach( var jugador in Model.Knockouts.Keys )
			{
				<tr>
					<td style="font-weight:bold">@jugador</td>
					@foreach( var elim in Model.Jugadores )
					{
						<td style="text-align:center">
							@( Model.Knockouts[ jugador ].ContainsKey( elim ) ? Model.Knockouts[ jugador ][ elim ].Eliminaciones.ToString() : "-" )
						</td>
					}
				</tr>
			}
		</tbody>
	</table>
</div>

<hr style="margin-top:3em;margin-bottom:3em;border: 3px solid black;background-color:black" />

<div class="cardContainer">
	@foreach( var stat in Model.Stats )
	{
		<div class="card statCard">
			<h3 class="card-title statTitle">@stat.Titulo</h3>
			<div style="background-color:white;text-align:center;width:100%">
				<img src="~/images/@stat.Imagen" style="max-height:220px;max-width:90%;width:auto;align-self:center;margin-top:2px" class="card-img-top">
			</div>
			<div class="card-body" style="text-align:center;border-top:1px solid black;overflow:auto;background-color:white">
				<h6 style="vertical-align:text-top;margin-bottom:20px"><i>@stat.Descripcion</i></h6>
				@foreach( var p in stat.Participantes )
				{
					<p class="card-text" style="margin:2px">
						<b>@p.Nombre: </b>
						<span style="color:@(p.IsPositive ? "black" : "red")">@p.Valor</span>
					</p>
				}
			</div>
		</div>
	}
</div>